(this.webpackJsonpwuerfelapp=this.webpackJsonpwuerfelapp||[]).push([[0],{50:function(e,t,n){},55:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);n(45);var s=n(0),a=n.n(s),r=n(19),i=n.n(r),o=(n(50),n(15)),c=n(3),l=n(22),d=n(4),j=n(44),h=Object(j.a)({name:"inventory",initialState:[],reducers:{loaded:function(e,t){return t.payload}}}),u=(h.actions.loaded,h.reducer),b={loading:!1,response:{}};var p=Object(d.c)({inventory:u,api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"api/loading":return Object.assign({},e,{loading:t.data});case"api/error":return Object.assign({},e,{response:t.data});default:return e}}}),O=(n(55),n(11)),m=n(12),v=n(14),x=n(13),g=n(39),f=n(26),y=n(1),w=function(e){var t=function(t){Object(v.a)(s,t);var n=Object(x.a)(s);function s(e){var t;return Object(O.a)(this,s),(t=n.call(this,e)).state={username:"",password:"",jsessionid:localStorage.getItem("jsessionid")},t}return Object(m.a)(s,[{key:"componentDidMount",value:function(){""===this.state.jsessionid&&this.props.history.push("/login")}},{key:"inventoryList",value:function(){return Object(f.get)("http://localhost:8080/inventory",{auth:{username:"jan",password:"password"}})}},{key:"login",value:function(e,t){return Object(f.get)("http://localhost:8080/user/login",{auth:{username:e,password:t}})}},{key:"render",value:function(){return Object(y.jsx)(e,Object(g.a)({login:this.login,inventoryList:this.inventoryList},this.props))}}]),s}(a.a.Component);return Object(c.f)(t)},N=Object(d.e)(p),k=function(e){Object(v.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;N.subscribe((function(){return console.log("State after dispatch: ",N.getState())})),this.props.inventoryList().then((function(e){console.log(e.data),N.dispatch({type:"inventory/loaded",payload:e.data})})).catch((function(t){e.setState({error:{status:t.request.status,message:t.message}}),401===t.request.status&&e.props.history.push("/login")}))}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:["Loading: ",this.props.api.loading]}),Object(y.jsxs)("div",{children:["Error: ",this.props.api.response.status," - ",this.props.api.response.message]}),Object(y.jsxs)("div",{children:["Inventory",this.props.inventory.map((function(e){return Object(y.jsxs)("li",{children:[e.displayname," ",e.amount]},e.id)}))]})]})}}]),n}(a.a.Component),C=Object(l.b)((function(e){return e}))(w(k)),I=n(21),L=n(17),S=w(function(e){Object(v.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(O.a)(this,n),(s=t.call(this,e)).state={username:"",password:""},s.handleInputChange=s.handleInputChange.bind(Object(L.a)(s)),s.handleLogin=s.handleLogin.bind(Object(L.a)(s)),s}return Object(m.a)(n,[{key:"handleInputChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.props.login(this.state.username,this.state.password).then((function(e){console.log(e),200===e.status&&t.props.history.push("/evening")})).catch((function(e){t.setState({error:{status:e.request.status,message:e.message},password:""})}))}},{key:"render",value:function(){var e=this.state.error;return Object(y.jsx)("div",{children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"usernameInput",className:"form-label",children:"Username"}),Object(y.jsx)("input",{type:"text",name:"username",className:"form-control",id:"usernameInput",value:this.state.username,onChange:this.handleInputChange})]}),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("label",{htmlFor:"passwordInput",className:"form-label",children:"Password"}),Object(y.jsx)("input",{type:"password",name:"password",className:"form-control",id:"passwordInput","aria-describedby":"passwordHelp",value:this.state.password,onChange:this.handleInputChange}),Object(y.jsx)("div",{id:"passwordHelp",className:"form-text",children:"Never share your password with anyone else."})]}),e&&Object(y.jsxs)("div",{children:[e.status," - ",e.message]}),Object(y.jsx)("button",{onClick:this.handleLogin,className:"btn btn-primary",children:"Login"})]})})}}]),n}(a.a.Component)),H=n(40),W=n(41),q=n(18),D=n(42),M=n(43);var B=function(){var e=Object(d.e)(p);return Object(y.jsx)(l.a,{store:e,children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)("header",{children:Object(y.jsx)("nav",{className:"navbar navbar-expand-md fixed-top",id:"navi",children:Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsxs)(o.b,{className:"navbar-brand",to:"/",children:[Object(y.jsx)(H.a,{})," ",Object(y.jsx)(W.a,{})," ",Object(y.jsx)(q.a,{})," ",Object(y.jsx)(q.a,{})," ",Object(y.jsx)(q.a,{})," WC H\xfcttenberg"]}),Object(y.jsxs)(o.b,{to:"/evening",children:[Object(y.jsx)(q.a,{})," W\xfcrfelabend"]}),Object(y.jsxs)(o.b,{to:"/inventory",children:[Object(y.jsx)(D.a,{})," Inventar"]}),Object(y.jsxs)(o.b,{to:"/login",children:[Object(y.jsx)(M.a,{})," Login"]})]})})}),Object(y.jsx)("main",{className:"flex-shrink-0",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)(c.c,{children:[Object(y.jsx)(c.a,{exact:!0,path:"/",children:"Home"}),Object(y.jsx)(c.a,{path:"/inventory",children:Object(y.jsx)(C,{})}),Object(y.jsx)(c.a,{path:"/login",children:Object(y.jsx)(S,{})})]})})}),Object(y.jsx)("footer",{className:"footer mt-auto py-3",id:"footer",children:Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"text-muted text-center",children:[Object(y.jsx)("b",{children:"\xa9 WC H\xfcttenberg 2021"})," - ",Object(y.jsx)("a",{href:"mailto:jan.stopfer@web.de",children:"jan.stopfer@web.de"})]})})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[76,1,2]]]);
//# sourceMappingURL=main.af8f1338.chunk.js.map